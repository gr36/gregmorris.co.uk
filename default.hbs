<!DOCTYPE html>
<html lang="{{@site.locale}}">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{meta_title}}</title>
    <link rel="stylesheet" href="{{asset "/css/screen.css"}}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:400,500,700&amp;subset=latin-ext">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">

    {{ghost_head}}
</head>

<body class="{{body_class}}">
    
    <div class="site">
        {{> header}}
        <div class="site-content">
            {{{body}}}
        </div>
        {{> footer}}
    </div>
    <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous">
    </script>
    <script src="{{asset "/built/main.min.js"}}"></script>
    <script src="https://unpkg.com/@tryghost/content-api@{version}/umd/content-api.min.js"></script>
    <script type="text/javascript" src="{{asset "js/ghost-search.min.js"}}"></script>
<script>
    let ghostSearch = new GhostSearch({
        key: '1f5b99a8a742a3252b05785562',
        url: 'https://gregmorris.co.uk',
        version: 'v4',
        input: '#search-input',
        results: '#search-results',
        button: '#search-button',
        options: {
	        keys: [
	            'title',
	        ],
	    },
	    api: {
	        resource: 'posts',
	        parameters: { 
	            fields: ['title', 'slug'],
	            filter: 'tags:[blog]',
	            include: 'tags'
	        },
	    },
	    template: function(result) {
	        let collection = 'blog';
	        let url = [location.protocol, '//', location.host].join('') + '/' + collection;
	        return '<a href="' + url + '/' + result.slug + '/">' + result.title + '</a>';  
	    },
    })
</script>

    {{{block "scripts"}}}
    {{ghost_foot}}
</body>

</html>